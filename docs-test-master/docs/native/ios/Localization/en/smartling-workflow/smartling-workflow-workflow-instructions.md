---
id: en-smartling-workflow-workflow-instructions
title: Workflow and Instructions
---

## Source files format reference

https://help.smartling.com/hc/en-us/articles/360008000733

## Source directory structure

![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-01.png)

1. Binance/Resources/LanguageSources: The files in this directory are source files and configuration files.
2. Binance/Resources/Language：The files in the directory are generated by automated scripts and cannot be changed by Developers

## Permission assignment

### Source strings

- All additions, deletions and modifications are managed by Developers
- Manage via ios-client Project

### Chinese translation

- Chinese translation will be managed by PM and Localization team in Smartling system
- Developer does not need to understand this step

### Screenshot management

- Same management as Chinese translation

## Submit form

According to the requirements of the Localization team, all translation requirements need to submit a form.

After developers changing the source string, please contact PM to submit the translation request form.

## Time point

e.g. Take the mai n site rules as an example

- The main site has an app version every 3 weeks
- Assuming that the 23rd in the figure is the release date of the current version
- **5th 10:00～9th 20:00**: 2 weeks before the release date is the deadline for adding/changing strings
- **12th ~ 16th 20:00: **Localization team translation time period
- **19th ~ 23rd 10:00: **The CDN release time period. Due to this time period, the translation promised by the Localization team has been completed,  new content can be continuously released to the product CDN
- By default, the app localization manager will release the production CDN twice through QA coworkers: one week before the release date and the day of Code freeze.

![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-time-point.png)

**One important thing:**

- Our translation system has a rule: if the source string(english) is changed, the translations of this string in all languages will be reset in English
- **So if you can’t ensure that strings can be translated in the current version, don’t change the source string**
- For example, now we are in 0729 version, please add 0819 changes after July 29th, otherwise, these changes will follow 0729 CDN publishing and be brought into prod environment

## Workflow of developers

### How to add source string

1. Open a new branch base on bnbfly

2. Change Source files (Resources/LanguageSources/en/xxx.json), add the strings you need

3. Create PR to **bnbfly branch** ([Demo PR](https://git.toolsfdg.net/fe/ios-client/pull/6384))

4. Merge PR

5. After merging the PR, a series of automated jobs will be triggered, which can be viewed through the 

   commit list

    

   of github

   1. ![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-03.png)
   2. The first job(**post-ios-client-i18n-source-push-upload**) will upload changes to Smartling system 
   3. The second Job(**post-ios-client-i18n-generator**) will generate a new lang_en.json via changes
   4. After the **post-ios-client-i18n-generator** task is executed, a commit (commit message: generate from LanguageSources) will be automatically submitted to bnbfly. The commit content is the newly generated lang_en.json
   5. ![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-04.png)
   6. This commit will continue to automatically trigger a new job: **post-ios-client-i18n-publish**
   7. **post-ios-client-i18n-publish** is a job for publishing dev CDN. After this job is executed successfully, the newly added en strings can be used.

### Get/Sync Translation

A Prow [Job-i18n-ios-periodics-sync](https://prow.toolsfdg.net/?job=i18n-ios-periodics-sync) is automatically executed every day at 8 o'clock. You can also manually rerun this job in the [Prow dashboard](https://prow.toolsfdg.net/?job=i18n-ios-periodics-sync) to synchronize.

The job will synchronize the latest content of Smartling system and create a PR ([Demo PR](https://git.toolsfdg.net/fe/ios-client/pull/6139)) to the bnbfly branch

![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-05.png)

After merging this PR:

1. It will automatically trigger the publishment of Dev CDN
2. It will automatically create a PR for the mono repo (the PR will be approve and merge by QA testers. After being merged, the changes will be published to the product CDN)

### Modify source string

The workflow of modification and addition is basically the same.

The difference is:

1. If the value of a source string is modified, the Smartling system will delete all language translations of this string
2. Change the content of key = delete a source string + add a source string（[Demo PR 1](https://git.toolsfdg.net/fe/ios-client/pull/6152) ｜ [Demo PR 2](https://git.toolsfdg.net/fe/ios-client/pull/6154)）



If the value of the source string is modified, the translator will only complete the translation according to the default ETA (according to the version schedule). If there is an urgent need, let the PM submit an urgent translation form to the Localization team

### Timing diagram for reference

![](https://static.devfdg.net/static/mono-static/docs-ui/img/smartling-workflow-06.png)
